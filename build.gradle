plugins {
    id 'java'
}

repositories {
    mavenLocal()
    maven {
        url = 'https://repo.runelite.net'
    }
    mavenCentral()
}

def runeLiteVersion = '1.7.2.2'

dependencies {
    compileOnly group: 'net.runelite', name: 'client', version: runeLiteVersion

    // Lombok removed to avoid annotation-processing issues on new JDKs

    testImplementation 'junit:junit:4.12'
    testImplementation group: 'net.runelite', name: 'client', version: runeLiteVersion
    testImplementation group: 'net.runelite', name: 'jshell', version: runeLiteVersion
}

group = 'com.example'
version = '1.0'

java {
    toolchain {
        // Use the locally-installed JDK if available. Adjust if you prefer a specific version.
        languageVersion = JavaLanguageVersion.of(25)
    }
}

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
    // If you must produce Java 8 bytecode for RuneLite, uncomment:
    // options.release = 8
}

test {
    // This project includes a manual runnable test class rather than framework-discoverable tests.
    // Disable the automated test task so the build succeeds for local development.
    enabled = false
}
